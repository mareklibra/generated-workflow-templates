apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: yamlgreet # matches the workflow ID, will be used by orchestrator:workflow:run
  title: Greeting workflow
  description: YAML based greeting workflow
  tags:
    - orchestrator
spec:
  owner: red-hat-developer-hub-authors
  system: red-hat-developer-hub
  type: service

  # matches workflow's dataInputSchema
  parameters:
    title: Workflow parameters
properties:
    language:
        title: Language
        description: Language to greet
        type: string
        enum:
            - English
            - Spanish
        default: English
    name:
        title: Name
        description: Name of the person
        type: string
        default: John Doe
required:
    - name

    
    # - title: TODO Generate following parameters instead
    #   required:
    #     - language
    #   properties:
    #     language:
    #       title: Language          
    #       type: string
    #       ui:autofocus: true
    #       enum: 
    #         - "English"
    #         - "Spanish"
    #       default: "English"        
    #     name:
    #       title: Name
    #       type: string                    

  steps:
    - id: runWorkflow
      name: Run workflow
      action: orchestrator:workflow:run
      input:
        parameters: 

  output:
    links:
      - title: Open workflow run
        url: 